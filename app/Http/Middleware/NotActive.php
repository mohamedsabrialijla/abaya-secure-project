<?phpnamespace App\Http\Middleware;use Closure;use Illuminate\Support\Facades\Auth;class NotActive{    /**     * Handle an incoming request.     *     * @param  \Illuminate\Http\Request $request     * @param  \Closure $next     * @return mixed     */    public function handle($request, Closure $next)    {        if (Auth::guard('system_admin')->check()) {            $guard = 'system_admin';            return $next($request);        } elseif (Auth::guard('store')->check()) {            $guard = 'store';        } elseif (Auth::guard('branch_admin')->check()) {            $guard = 'branch_admin';        }        return $this->controlGuardAction($guard, $request, $next);    }    private function controlGuardAction($guard, $request, Closure $next)    {        $status = Auth::user()->status;        switch ($status) {            case 1:                return redirect()->route($guard . '.dashboard');                break;            case 0:                return $next($request);                break;            case 2:                break;        }    }}